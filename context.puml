!function getTitle($title)
    !return $title
!endfunction

' Open the digraph and define the default node shape
!procedure startDfd($title)
digraph dfd2 {
rankdir="LR"
node[shape=record]
label =$title
!endprocedure

' Close the digraph
!procedure endDfd()
}
!endprocedure

!procedure External($alias, $label)
    $alias [label="$label", shape=box];
!endprocedure

!procedure Process($alias, $label)
    $alias [label="0 | $label\n\n", shape=Mrecord, pos="0,0!", fontcolor=black, fontsize=12, color=black, penwidth=2];
!endprocedure

!procedure Flow_R($from, $to, $label = "")
    !if ($label != "")
        $from -> $to [label="$label", dir=forward, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !else
        $from -> $to [dir=forward, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !endif
!endprocedure

!procedure Flow_L($alias1, $to, $label = "")
    !if ($label != "")
        $from -> $to [label="$label", dir=back, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !else
        $from -> $to [dir=back, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !endif
!endprocedure

!procedure BiFlow($from, $to, $label = "")
    !if ($label != "")
        $from -> $to [label="$label", dir=both, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !else
        $from -> $to [label="$label", dir=both, constraint=false, fontcolor=black, fontsize=10, color=black, penwidth=1];
    !endif
!endprocedure
