' context.puml
' Define a global variable for notation and set a default value
!$notation = "DEFAULT"

' Define a procedure to set the notation
!procedure setNotation(notation)
    !if (notation == "GANE_SARSON" || notation == "YOURDON_DEMARCO" || notation == "SSADM")
        !$notation = notation
    !else
        !$notation = "DEFAULT"
    !endif
!endprocedure

' Start and End for the Diagram (PlantUML Native)
!procedure startDfd()
    title Data Flow Diagram (DFD Level 0)
    caption Notation: $notation
!endprocedure

!procedure endDfd()
    ' No need for a closing function in PlantUML
!endprocedure

' Define Title Function
!procedure Title($title)
    title $title
    caption Context Diagram (DFD Level 0) - Notation: $notation
!endprocedure

' Define Process
!procedure Process($alias, $label)
    process $alias as "$label"
!endprocedure

' Define External Entity
!procedure External($alias, $label)
    actor $alias as "$label"
!endprocedure

' Define Data Flows (Unidirectional)
!procedure InFlow($from, $to, $label="")
    $from --> $to : $label
!endprocedure

!procedure OutFlow($from, $to, $label="")
    $to --> $from : $label
!endprocedure

!procedure BiFlow($from, $to, $label="")
    $from <--> $to : $label
!endprocedure
