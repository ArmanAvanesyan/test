'===========================
' Global Default Style Variables
'===========================

'===========================
' Helper Function
'===========================
!function getTitle($title)
    !return $title
!endfunction

'===========================
' DFD Framework: Start and End Procedures
'===========================
!procedure startDfd($title)
digraph dfd2 {
  rankdir="LR"
  node [
    shape=record,
    style=filled,
    fillcolor=$DEFAULT_FILLCOLOR,
    color=$DEFAULT_BORDERCOLOR,
    fontcolor=$DEFAULT_FONTCOLOR,
    fontsize=$DEFAULT_FONTSIZE,
    fontname=$DEFAULT_FONTNAME,
    penwidth=$DEFAULT_PENWIDTH
  ]
  label = "$title"
!endprocedure

!procedure endDfd()
}
!endprocedure

'===========================
' Node Definitions
'===========================

!procedure External($alias, $label)
  $alias [label="$label", shape=box, style=filled, fillcolor=lightblue,
          fontcolor=black, fontsize="12",
          color=black, penwidth=2];
!endprocedure

!procedure Process($alias, $label)
    $alias [label="0 | $label\n\n", shape=Mrecord, pos="0,0!", 
            fontcolor=black, fontsize=12,
            color=black, penwidth=2,
            style=filled, gradientangle=270, fillcolor="lightblue;0.3:white"];
!endprocedure

'===========================
' Data Flow (Arrow) Procedures
'===========================
!procedure Flow_R($from, $to, $label = "")
  $from -> $to [label="$label", dir=forward, constraint=false];
!endprocedure

!procedure Flow_L($from, $to, $label = "")
  $from -> $to [label="$label", dir=back, constraint=false];
!endprocedure

!procedure BiFlow($from, $to, $label = "")
  $from -> $to [label="$label", dir=both, constraint=false];
!endprocedure
